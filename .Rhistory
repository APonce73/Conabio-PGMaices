#Glenn2$CVE_MUN <- as.character(Glenn2$CVE_MUN)
#Glenn2$CVE_LOC <- as.character(Glenn2$CVE_LOC)
names(Glenn)[5] <- c("Gould")
names(Glenn1)[5] <- c("Gould")
names(Glenn2)[5] <- c("Gould")
Glenn <- Glenn[,1:3]
Glenn1 <- Glenn1[,1:3]
Glenn2 <- Glenn2[,1:3]
Bagatelle <- dplyr::union(Glenn, Glenn1)
dim(Bagatelle)
Bagatelle1 <- dplyr::intersect(Glenn, Glenn1)
dim(Bagatelle1)
Bagatelle2 <- dplyr::union(Glenn, Glenn2)
dim(Bagatelle2)
Bagatelle3 <- dplyr::intersect(Glenn, Glenn2)
dim(Bagatelle3)
Suite1 <- dim(Bagatelle) - dim(Bagatelle1)
Suite3 <- dim(Bagatelle2) - dim(Bagatelle3)
#Tianguis sin maíz
#Suite2 <- dim(Glenn) - Suite1
Cope <- nrow(Glenn) + nrow(Glenn1) + nrow(Glenn2)
print(Cope)
print(head(X1[2],1))
print("Sitios sin tianguis pero con maíz")
print(nrow(Glenn1) - nrow(Bagatelle1))
print("Tianguis + maíz")
print(nrow(Bagatelle1))
print("Tianguis sin maíz y sin no maíz")
print(Suite4 <- nrow(Glenn) - (nrow(Bagatelle1) + nrow(Bagatelle3)) )
print("Sitios con tianguis sin maíz ")
print(nrow(Bagatelle3))
print("Sitios sin tianguis sin maíz")
print(nrow(Glenn2) - nrow(Bagatelle3))
}
Calcifer("Quintana Roo")
head(FinalTT)
Calcifer <- function(X1){
#X1 <- Edo23
#X1 <- as.character(expression(X2))
FinalTTa <- FinalTT %>%
filter(NOM_ENT == X1)
Glenn <- FinalTTa %>%
select(FullCode, NOM_ENT,Variable1) %>%
filter(Variable1 == "Tianguis" ) %>%
#filter(Nombre.de.la.entidad == "Aguascalientes" ) %>%
#na.omit() %>%
distinct()
Glenn1 <- FinalTTa %>%
select(FullCode, NOM_ENT,Variable1) %>%
filter(Variable1 == "Maiz" ) %>%
Glenn2 <- FinalTTa %>%
select(FullCode, NOM_ENT,Variable1) %>%
filter(Variable1 == "Sin_Maiz" ) %>%
Glenn <- Glenn[,1:2]
Glenn1 <- Glenn1[,1:2]
Glenn2 <- Glenn2[,1:2]
Bagatelle <- dplyr::union(Glenn, Glenn1)
dim(Bagatelle)
Bagatelle1 <- dplyr::intersect(Glenn, Glenn1)
dim(Bagatelle1)
Bagatelle2 <- dplyr::union(Glenn, Glenn2)
dim(Bagatelle2)
Bagatelle3 <- dplyr::intersect(Glenn, Glenn2)
dim(Bagatelle3)
Suite1 <- dim(Bagatelle) - dim(Bagatelle1)
Suite3 <- dim(Bagatelle2) - dim(Bagatelle3)
#Tianguis sin maíz
#Suite2 <- dim(Glenn) - Suite1
Cope <- nrow(Glenn) + nrow(Glenn1) + nrow(Glenn2)
print(Cope)
print(head(X1[2],1))
print("Sitios sin tianguis pero con maíz")
print(nrow(Glenn1) - nrow(Bagatelle1))
print("Tianguis + maíz")
print(nrow(Bagatelle1))
print("Tianguis sin maíz y sin no maíz")
print(Suite4 <- nrow(Glenn) - (nrow(Bagatelle1) + nrow(Bagatelle3)) )
print("Sitios con tianguis sin maíz ")
print(nrow(Bagatelle3))
print("Sitios sin tianguis sin maíz")
print(nrow(Glenn2) - nrow(Bagatelle3))
}
Calcifer("Quintana Roo")
X1 <- c("Quintana Roo")
X1
FinalTTa <- FinalTT %>%
filter(NOM_ENT == X1)
Glenn <- FinalTTa %>%
select(FullCode, NOM_ENT,Variable1) %>%
filter(Variable1 == "Tianguis" ) %>%
#filter(Nombre.de.la.entidad == "Aguascalientes" ) %>%
#na.omit() %>%
distinct()
FinalTTa
Glenn
Glenn1 <- FinalTTa %>%
select(FullCode, NOM_ENT,Variable1) %>%
filter(Variable1 == "Maiz" ) %>%
Glenn2 <- FinalTTa %>%
select(FullCode, NOM_ENT,Variable1) %>%
filter(Variable1 == "Sin_Maiz" ) %>%
Glenn <- Glenn[,1:2]
Glenn1 <- FinalTTa %>%
select(FullCode, NOM_ENT,Variable1) %>%
filter(Variable1 == "Maiz") %>%
distinct()
Glenn2 <- FinalTTa %>%
select(FullCode, NOM_ENT,Variable1) %>%
filter(Variable1 == "Sin_Maiz") %>%
distinct()
Glenn <- Glenn[,1:2]
Glenn1 <- Glenn1[,1:2]
Glenn2 <- Glenn2[,1:2]
Bagatelle <- dplyr::union(Glenn, Glenn1)
dim(Bagatelle)
Bagatelle1 <- dplyr::intersect(Glenn, Glenn1)
dim(Bagatelle1)
Bagatelle2 <- dplyr::union(Glenn, Glenn2)
dim(Bagatelle2)
Bagatelle3 <- dplyr::intersect(Glenn, Glenn2)
dim(Bagatelle3)
Suite1 <- dim(Bagatelle) - dim(Bagatelle1)
Suite3 <- dim(Bagatelle2) - dim(Bagatelle3)
Calcifer <- function(X1){
#X1 <- Edo23
#X1 <- as.character(expression(X2))
FinalTTa <- FinalTT %>%
filter(NOM_ENT == X1)
Glenn <- FinalTTa %>%
select(FullCode, NOM_ENT,Variable1) %>%
filter(Variable1 == "Tianguis" ) %>%
#filter(Nombre.de.la.entidad == "Aguascalientes" ) %>%
#na.omit() %>%
distinct()
Glenn1 <- FinalTTa %>%
select(FullCode, NOM_ENT,Variable1) %>%
filter(Variable1 == "Maiz") %>%
distinct()
Glenn2 <- FinalTTa %>%
select(FullCode, NOM_ENT,Variable1) %>%
filter(Variable1 == "Sin_Maiz") %>%
distinct()
Glenn <- Glenn[,1:2]
Glenn1 <- Glenn1[,1:2]
Glenn2 <- Glenn2[,1:2]
Bagatelle <- dplyr::union(Glenn, Glenn1)
dim(Bagatelle)
Bagatelle1 <- dplyr::intersect(Glenn, Glenn1)
dim(Bagatelle1)
Bagatelle2 <- dplyr::union(Glenn, Glenn2)
dim(Bagatelle2)
Bagatelle3 <- dplyr::intersect(Glenn, Glenn2)
dim(Bagatelle3)
Suite1 <- dim(Bagatelle) - dim(Bagatelle1)
Suite3 <- dim(Bagatelle2) - dim(Bagatelle3)
#Tianguis sin maíz
#Suite2 <- dim(Glenn) - Suite1
Cope <- nrow(Glenn) + nrow(Glenn1) + nrow(Glenn2)
print(Cope)
print(head(X1[2],1))
print("Sitios sin tianguis pero con maíz")
print(nrow(Glenn1) - nrow(Bagatelle1))
print("Tianguis + maíz")
print(nrow(Bagatelle1))
print("Tianguis sin maíz y sin no maíz")
print(Suite4 <- nrow(Glenn) - (nrow(Bagatelle1) + nrow(Bagatelle3)) )
print("Sitios con tianguis sin maíz ")
print(nrow(Bagatelle3))
print("Sitios sin tianguis sin maíz")
print(nrow(Glenn2) - nrow(Bagatelle3))
}
Calcifer("Quintana Roo")
Calcifer <- function(X1){
#X1 <- Edo23
#X1 <- as.character(expression(X2))
FinalTTa <- FinalTT %>%
filter(NOM_ENT == X1)
Glenn <- FinalTTa %>%
select(FullCode, NOM_ENT,Variable1) %>%
filter(Variable1 == "Tianguis" ) %>%
#filter(Nombre.de.la.entidad == "Aguascalientes" ) %>%
#na.omit() %>%
distinct()
Glenn1 <- FinalTTa %>%
select(FullCode, NOM_ENT,Variable1) %>%
filter(Variable1 == "Maiz") %>%
distinct()
Glenn2 <- FinalTTa %>%
select(FullCode, NOM_ENT,Variable1) %>%
filter(Variable1 == "Sin_Maiz") %>%
distinct()
Glenn <- Glenn[,1:2]
Glenn1 <- Glenn1[,1:2]
Glenn2 <- Glenn2[,1:2]
Bagatelle <- dplyr::union(Glenn, Glenn1)
dim(Bagatelle)
Bagatelle1 <- dplyr::intersect(Glenn, Glenn1)
dim(Bagatelle1)
Bagatelle2 <- dplyr::union(Glenn, Glenn2)
dim(Bagatelle2)
Bagatelle3 <- dplyr::intersect(Glenn, Glenn2)
dim(Bagatelle3)
Suite1 <- dim(Bagatelle) - dim(Bagatelle1)
Suite3 <- dim(Bagatelle2) - dim(Bagatelle3)
#Tianguis sin maíz
#Suite2 <- dim(Glenn) - Suite1
print("Sitios sin tianguis pero con maíz")
print(nrow(Glenn1) - nrow(Bagatelle1))
print("Tianguis + maíz")
print(nrow(Bagatelle1))
print("Tianguis sin maíz y sin no maíz")
print(Suite4 <- nrow(Glenn) - (nrow(Bagatelle1) + nrow(Bagatelle3)) )
print("Sitios con tianguis sin maíz ")
print(nrow(Bagatelle3))
print("Sitios sin tianguis sin maíz")
print(nrow(Glenn2) - nrow(Bagatelle3))
}
Calcifer("Quintana Roo")
Calcifer("Nayarit")
head(Edo)
head(Edo01)
head(Edo01$Nombre.de.la.entidad)
Edo01$Nombre.de.la.entidad[1]
Calcifer(Edo01$Nombre.de.la.entidad[1])
Calcifer <- function(X1){
#X1 <- Edo23
X1 <- as.character(expression(X2))
FinalTTa <- FinalTT %>%
filter(NOM_ENT == X1)
Glenn <- FinalTTa %>%
select(FullCode, NOM_ENT,Variable1) %>%
filter(Variable1 == "Tianguis" ) %>%
#filter(Nombre.de.la.entidad == "Aguascalientes" ) %>%
#na.omit() %>%
distinct()
Glenn1 <- FinalTTa %>%
select(FullCode, NOM_ENT,Variable1) %>%
filter(Variable1 == "Maiz") %>%
distinct()
Glenn2 <- FinalTTa %>%
select(FullCode, NOM_ENT,Variable1) %>%
filter(Variable1 == "Sin_Maiz") %>%
distinct()
Glenn <- Glenn[,1:2]
Glenn1 <- Glenn1[,1:2]
Glenn2 <- Glenn2[,1:2]
Bagatelle <- dplyr::union(Glenn, Glenn1)
dim(Bagatelle)
Bagatelle1 <- dplyr::intersect(Glenn, Glenn1)
dim(Bagatelle1)
Bagatelle2 <- dplyr::union(Glenn, Glenn2)
dim(Bagatelle2)
Bagatelle3 <- dplyr::intersect(Glenn, Glenn2)
dim(Bagatelle3)
Suite1 <- dim(Bagatelle) - dim(Bagatelle1)
Suite3 <- dim(Bagatelle2) - dim(Bagatelle3)
#Tianguis sin maíz
#Suite2 <- dim(Glenn) - Suite1
print("Sitios sin tianguis pero con maíz")
print(nrow(Glenn1) - nrow(Bagatelle1))
print("Tianguis + maíz")
print(nrow(Bagatelle1))
print("Tianguis sin maíz y sin no maíz")
print(Suite4 <- nrow(Glenn) - (nrow(Bagatelle1) + nrow(Bagatelle3)) )
print("Sitios con tianguis sin maíz ")
print(nrow(Bagatelle3))
print("Sitios sin tianguis sin maíz")
print(nrow(Glenn2) - nrow(Bagatelle3))
}
Calcifer(Edo01$Nombre.de.la.entidad[1])
Calcifer(Edo02$Nombre.de.la.entidad[1])
Calcifer <- function(X1){
#X1 <- Edo23
#X1 <- as.character(expression(X2))
FinalTTa <- FinalTT %>%
filter(NOM_ENT == X1)
Glenn <- FinalTTa %>%
select(FullCode, NOM_ENT,Variable1) %>%
filter(Variable1 == "Tianguis" ) %>%
#filter(Nombre.de.la.entidad == "Aguascalientes" ) %>%
#na.omit() %>%
distinct()
Glenn1 <- FinalTTa %>%
select(FullCode, NOM_ENT,Variable1) %>%
filter(Variable1 == "Maiz") %>%
distinct()
Glenn2 <- FinalTTa %>%
select(FullCode, NOM_ENT,Variable1) %>%
filter(Variable1 == "Sin_Maiz") %>%
distinct()
Glenn <- Glenn[,1:2]
Glenn1 <- Glenn1[,1:2]
Glenn2 <- Glenn2[,1:2]
Bagatelle <- dplyr::union(Glenn, Glenn1)
dim(Bagatelle)
Bagatelle1 <- dplyr::intersect(Glenn, Glenn1)
dim(Bagatelle1)
Bagatelle2 <- dplyr::union(Glenn, Glenn2)
dim(Bagatelle2)
Bagatelle3 <- dplyr::intersect(Glenn, Glenn2)
dim(Bagatelle3)
Suite1 <- dim(Bagatelle) - dim(Bagatelle1)
Suite3 <- dim(Bagatelle2) - dim(Bagatelle3)
#Tianguis sin maíz
#Suite2 <- dim(Glenn) - Suite1
print("Sitios sin tianguis pero con maíz")
print(nrow(Glenn1) - nrow(Bagatelle1))
print("Tianguis + maíz")
print(nrow(Bagatelle1))
print("Tianguis sin maíz y sin no maíz")
print(Suite4 <- nrow(Glenn) - (nrow(Bagatelle1) + nrow(Bagatelle3)) )
print("Sitios con tianguis sin maíz ")
print(nrow(Bagatelle3))
print("Sitios sin tianguis sin maíz")
print(nrow(Glenn2) - nrow(Bagatelle3))
}
Calcifer("Baja California")
Calcifer("Aguascalientes")
Calcifer("Baja California")
Calcifer("Baja California Sur")
Calcifer("Campeche")
Calcifer("Coahuila")
Calcifer("Colima")
Calcifer("Chiapas")
Calcifer("Chihuahua")
Calcifer("Distrito Federal")
Calcifer("Durango")
Calcifer("Guanajuato")
Calcifer("Guerrero")
Calcifer("Hidalgo")
Calcifer("Mexico")
Calcifer("Michoacan")
Calcifer("Morelos")
Calcifer("Nayarit")
Calcifer("Nuevo Leon")
Calcifer("Oaxaca")
Calcifer("Puebla")
Calcifer("Queretaro")
Calcifer("Quintana Roo")
Calcifer("San Luis Potosi")
Calcifer("Sinaloa")
Calcifer("Sonora")
Calcifer("Tabasco")
Calcifer("Tamaulipas")
Calcifer("Tamaulipas")
Calcifer("Tlaxcala")
Calcifer("Veracruz")
Calcifer("Yucatán")
Calcifer("Yucatan")
Calcifer("Zacatecas")
runApp('Dropbox/GitHub/VoronoiInegi')
shiny::runApp('Dropbox/GitHub/VoronoiInegi')
library(plyr)
library(dplyr)
citation("plyr")
citation("dplyr")
library(shiny)
library(leaflet)
citation("shiny")
citation("leaflet")
library(rgdal)
citation("rgdal")
library(latticeExtra)
citation("latticeExtra")
citation("tidyverse")
shiny::runApp('Dropbox/GitHub/Conabio-PGMaices')
shiny::runApp('Dropbox/GitHub/Conabio-PGMaices')
runApp('Dropbox/GitHub/Conabio-PGMaices')
runApp('Dropbox/GitHub/Conabio-PGMaices')
shiny::runApp('Dropbox/GitHub/Conabio-PGMaices')
runApp('Dropbox/GitHub/Conabio-PGMaices')
runApp('Dropbox/GitHub/Conabio-PGMaices')
runApp('Dropbox/GitHub/Conabio-PGMaices')
runApp('Dropbox/GitHub/Conabio-PGMaices')
runApp('Dropbox/GitHub/Conabio-PGMaices')
runApp('Dropbox/GitHub/Conabio-PGMaices')
runApp('Dropbox/GitHub/Conabio-PGMaices')
runApp('Dropbox/GitHub/Conabio-PGMaices')
runApp('Dropbox/GitHub/Conabio-PGMaices')
runApp('Dropbox/GitHub/Conabio-PGMaices')
runApp('Dropbox/GitHub/Conabio-PGMaices')
runApp('Dropbox/GitHub/Conabio-PGMaices')
shiny::runApp('Dropbox/GitHub/Conabio-PGMaices')
runApp('Dropbox/GitHub/Conabio-PGMaices')
runApp('Dropbox/GitHub/Conabio-PGMaices')
runApp('Dropbox/GitHub/Conabio-PGMaices')
runApp('Dropbox/GitHub/Conabio-PGMaices')
runApp('Dropbox/GitHub/Conabio-PGMaices')
TableP <- read.csv("PGM_maices_Alex.csv", head = T, sep = ",")
setwd("~/Dropbox/GitHub/Conabio-PGMaices")
TableP <- read.csv("PGM_maices_Alex.csv", head = T, sep = ",")
names(TableP)
levels(TableP$Complejo_racial)
names(TableP)
TableP$Longitud
head(TableP)
dim(TableP)
names(TableP)
TableP$Estado
TTabla <- TableP %>%
filter(!is.na(Raza_primaria)) %>%
filter(!is.na(Latitud)) %>%
filter(Estado != "ND")
levels(TTabla$Estado)
dim(TTabla)
names(TTabla)
TTabla$Anhio_Colecta <- as.factor(TTabla$Anhio_Colecta)
str(TTabla)
levels(TTabla$Anhio_Colecta)
levels(TTabla$Estado)
levels(TTabla$Complejo_racial)
levels(TTabla$Raza_primaria)
names(TTabla)
TTabla <- TTabla %>%
mutate(Estado = revalue(Estado,c("AGUASCALIENTES" = "Aguascalientes"))) %>%
mutate(Estado = revalue(Estado,c("BAJA CALIFORNIA" = "Baja California"))) %>%
mutate(Estado = revalue(Estado,c("BAJA CALIFORNIA SUR" = "Baja California Sur"))) %>%
mutate(Estado = revalue(Estado,c("CAMPECHE" = "Campeche"))) %>%
mutate(Estado = revalue(Estado,c("CHIAPAS" = "Chiapas"))) %>%
mutate(Estado = revalue(Estado,c("CHIHUAHUA" = "Chihuahua"))) %>%
mutate(Estado = revalue(Estado,c("COAHUILA DE ZARAGOZA" = "Coahuila"))) %>%
mutate(Estado = revalue(Estado,c("COLIMA" = "Colima"))) %>%
mutate(Estado = revalue(Estado,c("DISTRITO FEDERAL" = "Ciudad de México"))) %>%
mutate(Estado = revalue(Estado,c("DURANGO" = "Durango"))) %>%
mutate(Estado = revalue(Estado,c("MEXICO" = "México"))) %>%
mutate(Estado = revalue(Estado,c("GUANAJUATO" = "Guanajuato"))) %>%
mutate(Estado = revalue(Estado,c("GUERRERO" = "Guerrero"))) %>%
mutate(Estado = revalue(Estado,c("HIDALGO" = "Hidalgo"))) %>%
mutate(Estado = revalue(Estado,c("JALISCO" = "Jalisco"))) %>%
mutate(Estado = revalue(Estado,c("MICHOACAN DE OCAMPO" = "Michoacán"))) %>%
mutate(Estado = revalue(Estado,c("MORELOS" = "Morelos"))) %>%
mutate(Estado = revalue(Estado,c("NAYARIT" = "Nayarit"))) %>%
mutate(Estado = revalue(Estado,c("NUEVO LEON" = "Nuevo León"))) %>%
mutate(Estado = revalue(Estado,c("OAXACA" = "Oaxaca"))) %>%
mutate(Estado = revalue(Estado,c("PUEBLA" = "Puebla"))) %>%
mutate(Estado = revalue(Estado,c("QUERETARO DE ARTEAGA" = "Querétaro"))) %>%
mutate(Estado = revalue(Estado,c("QUINTANA ROO" = "Quintana Roo"))) %>%
mutate(Estado = revalue(Estado,c("SAN LUIS POTOSI" = "San Luis Potosí"))) %>%
mutate(Estado = revalue(Estado,c("SINALOA" = "Sinaloa"))) %>%
mutate(Estado = revalue(Estado,c("SONORA" = "Sonora"))) %>%
mutate(Estado = revalue(Estado,c("TABASCO" = "Tabasco"))) %>%
mutate(Estado = revalue(Estado,c("TAMAULIPAS" = "Tamaulipas"))) %>%
mutate(Estado = revalue(Estado,c("TLAXCALA" = "Tlaxcala"))) %>%
mutate(Estado = revalue(Estado,c("VERACRUZ DE IGNACIO DE LA LLAVE" = "Veracruz"))) %>%
mutate(Estado = revalue(Estado,c("YUCATAN" = "Yucatán"))) %>%
mutate(Estado = revalue(Estado,c("ZACATECAS" = "Zacatecas"))) %>%
mutate(Complejo_racial = revalue(Complejo_racial,c("Chapalote" = "Chapalotes"))) %>%
mutate(Complejo_racial = revalue(Complejo_racial,c("Cónico" = "Cónicos")))
levels(TTabla$Estado)
levels(TTabla$Complejo_racial)
names(TTabla)
names(TTabla)[20] <- c("longitude")
names(TTabla)[21] <- c("latitude")
dim(TTabla)
nrow(TTabla)
TableL <- TTabla
TableL$Periodo <- as.character(TableL$Periodo)
TableL1 <- TTabla
Val1 <- rep(1, nrow(TableL1))
TableL1 <- data.frame(TableL1[,-c(31,32)], Val1)
head(TableL1)
rm(Val1)
names(TableL1)
names(TableL1)[27] <- c("Raza_Primaria")
attach(TableL1)
TableL1a <- aggregate(TableL1[,31], by = list(Raza_Primaria,Estado), FUN = mean, na.rm = T)
head(TableL1a)
names(TableL1a)
dim(TableL1a)
detach(TableL1)
names(TableL1a)[1] <- c("Raza_Primaria")
names(TableL1a)[2] <- c("Estado")
names(TableL1a)[3] <- c("Val1")
head(TableL1a)
attach(TableL1)
TableL1a <- aggregate(TableL1[,31], by = list(Raza_Primaria,Estado), FUN = sum, na.rm = T)
head(TableL1a)
names(TableL1a)
dim(TableL1a)
detach(TableL1)
names(TableL1a)[1] <- c("Raza_Primaria")
names(TableL1a)[2] <- c("Estado")
names(TableL1a)[3] <- c("Val1")
head(TableL1a)
runApp()
runApp()
runApp()
runApp()
runApp()
levels(TTabla$Estado)
names(TTabla)
head(TTabla)
summary(TTabla)
runApp()
runApp()
TableL <- TTabla
TableL$Periodo <- as.character(TableL$Periodo)
summary(TableL$Periodo)
str(TableL$Periodo)
TableL <- TTabla
str(TableL$Periodo)
runApp()
names(TableL)
runApp()
runApp()
runApp()
TableL$PeriodoColecta
runApp()
runApp()
TableL$Periodo
runApp()
runApp()
