select(FullCode, NOM_ENT,Variable1) %>%
filter(Variable1 == "Maiz") %>%
distinct()
Glenn2 <- FinalTTa %>%
select(FullCode, NOM_ENT,Variable1) %>%
filter(Variable1 == "Sin_Maiz") %>%
distinct()
Glenn <- Glenn[,1:2]
Glenn1 <- Glenn1[,1:2]
Glenn2 <- Glenn2[,1:2]
Bagatelle <- dplyr::union(Glenn, Glenn1)
dim(Bagatelle)
Bagatelle1 <- dplyr::intersect(Glenn, Glenn1)
dim(Bagatelle1)
Bagatelle2 <- dplyr::union(Glenn, Glenn2)
dim(Bagatelle2)
Bagatelle3 <- dplyr::intersect(Glenn, Glenn2)
dim(Bagatelle3)
Suite1 <- dim(Bagatelle) - dim(Bagatelle1)
Suite3 <- dim(Bagatelle2) - dim(Bagatelle3)
#Tianguis sin maíz
#Suite2 <- dim(Glenn) - Suite1
Cope <- nrow(Glenn) + nrow(Glenn1) + nrow(Glenn2)
print(Cope)
print(head(X1[2],1))
print("Sitios sin tianguis pero con maíz")
print(nrow(Glenn1) - nrow(Bagatelle1))
print("Tianguis + maíz")
print(nrow(Bagatelle1))
print("Tianguis sin maíz y sin no maíz")
print(Suite4 <- nrow(Glenn) - (nrow(Bagatelle1) + nrow(Bagatelle3)) )
print("Sitios con tianguis sin maíz ")
print(nrow(Bagatelle3))
print("Sitios sin tianguis sin maíz")
print(nrow(Glenn2) - nrow(Bagatelle3))
}
Calcifer("Quintana Roo")
Calcifer <- function(X1){
#X1 <- Edo23
#X1 <- as.character(expression(X2))
FinalTTa <- FinalTT %>%
filter(NOM_ENT == X1)
Glenn <- FinalTTa %>%
select(FullCode, NOM_ENT,Variable1) %>%
filter(Variable1 == "Tianguis" ) %>%
#filter(Nombre.de.la.entidad == "Aguascalientes" ) %>%
#na.omit() %>%
distinct()
Glenn1 <- FinalTTa %>%
select(FullCode, NOM_ENT,Variable1) %>%
filter(Variable1 == "Maiz") %>%
distinct()
Glenn2 <- FinalTTa %>%
select(FullCode, NOM_ENT,Variable1) %>%
filter(Variable1 == "Sin_Maiz") %>%
distinct()
Glenn <- Glenn[,1:2]
Glenn1 <- Glenn1[,1:2]
Glenn2 <- Glenn2[,1:2]
Bagatelle <- dplyr::union(Glenn, Glenn1)
dim(Bagatelle)
Bagatelle1 <- dplyr::intersect(Glenn, Glenn1)
dim(Bagatelle1)
Bagatelle2 <- dplyr::union(Glenn, Glenn2)
dim(Bagatelle2)
Bagatelle3 <- dplyr::intersect(Glenn, Glenn2)
dim(Bagatelle3)
Suite1 <- dim(Bagatelle) - dim(Bagatelle1)
Suite3 <- dim(Bagatelle2) - dim(Bagatelle3)
#Tianguis sin maíz
#Suite2 <- dim(Glenn) - Suite1
print("Sitios sin tianguis pero con maíz")
print(nrow(Glenn1) - nrow(Bagatelle1))
print("Tianguis + maíz")
print(nrow(Bagatelle1))
print("Tianguis sin maíz y sin no maíz")
print(Suite4 <- nrow(Glenn) - (nrow(Bagatelle1) + nrow(Bagatelle3)) )
print("Sitios con tianguis sin maíz ")
print(nrow(Bagatelle3))
print("Sitios sin tianguis sin maíz")
print(nrow(Glenn2) - nrow(Bagatelle3))
}
Calcifer("Quintana Roo")
Calcifer("Nayarit")
head(Edo)
head(Edo01)
head(Edo01$Nombre.de.la.entidad)
Edo01$Nombre.de.la.entidad[1]
Calcifer(Edo01$Nombre.de.la.entidad[1])
Calcifer <- function(X1){
#X1 <- Edo23
X1 <- as.character(expression(X2))
FinalTTa <- FinalTT %>%
filter(NOM_ENT == X1)
Glenn <- FinalTTa %>%
select(FullCode, NOM_ENT,Variable1) %>%
filter(Variable1 == "Tianguis" ) %>%
#filter(Nombre.de.la.entidad == "Aguascalientes" ) %>%
#na.omit() %>%
distinct()
Glenn1 <- FinalTTa %>%
select(FullCode, NOM_ENT,Variable1) %>%
filter(Variable1 == "Maiz") %>%
distinct()
Glenn2 <- FinalTTa %>%
select(FullCode, NOM_ENT,Variable1) %>%
filter(Variable1 == "Sin_Maiz") %>%
distinct()
Glenn <- Glenn[,1:2]
Glenn1 <- Glenn1[,1:2]
Glenn2 <- Glenn2[,1:2]
Bagatelle <- dplyr::union(Glenn, Glenn1)
dim(Bagatelle)
Bagatelle1 <- dplyr::intersect(Glenn, Glenn1)
dim(Bagatelle1)
Bagatelle2 <- dplyr::union(Glenn, Glenn2)
dim(Bagatelle2)
Bagatelle3 <- dplyr::intersect(Glenn, Glenn2)
dim(Bagatelle3)
Suite1 <- dim(Bagatelle) - dim(Bagatelle1)
Suite3 <- dim(Bagatelle2) - dim(Bagatelle3)
#Tianguis sin maíz
#Suite2 <- dim(Glenn) - Suite1
print("Sitios sin tianguis pero con maíz")
print(nrow(Glenn1) - nrow(Bagatelle1))
print("Tianguis + maíz")
print(nrow(Bagatelle1))
print("Tianguis sin maíz y sin no maíz")
print(Suite4 <- nrow(Glenn) - (nrow(Bagatelle1) + nrow(Bagatelle3)) )
print("Sitios con tianguis sin maíz ")
print(nrow(Bagatelle3))
print("Sitios sin tianguis sin maíz")
print(nrow(Glenn2) - nrow(Bagatelle3))
}
Calcifer(Edo01$Nombre.de.la.entidad[1])
Calcifer(Edo02$Nombre.de.la.entidad[1])
Calcifer <- function(X1){
#X1 <- Edo23
#X1 <- as.character(expression(X2))
FinalTTa <- FinalTT %>%
filter(NOM_ENT == X1)
Glenn <- FinalTTa %>%
select(FullCode, NOM_ENT,Variable1) %>%
filter(Variable1 == "Tianguis" ) %>%
#filter(Nombre.de.la.entidad == "Aguascalientes" ) %>%
#na.omit() %>%
distinct()
Glenn1 <- FinalTTa %>%
select(FullCode, NOM_ENT,Variable1) %>%
filter(Variable1 == "Maiz") %>%
distinct()
Glenn2 <- FinalTTa %>%
select(FullCode, NOM_ENT,Variable1) %>%
filter(Variable1 == "Sin_Maiz") %>%
distinct()
Glenn <- Glenn[,1:2]
Glenn1 <- Glenn1[,1:2]
Glenn2 <- Glenn2[,1:2]
Bagatelle <- dplyr::union(Glenn, Glenn1)
dim(Bagatelle)
Bagatelle1 <- dplyr::intersect(Glenn, Glenn1)
dim(Bagatelle1)
Bagatelle2 <- dplyr::union(Glenn, Glenn2)
dim(Bagatelle2)
Bagatelle3 <- dplyr::intersect(Glenn, Glenn2)
dim(Bagatelle3)
Suite1 <- dim(Bagatelle) - dim(Bagatelle1)
Suite3 <- dim(Bagatelle2) - dim(Bagatelle3)
#Tianguis sin maíz
#Suite2 <- dim(Glenn) - Suite1
print("Sitios sin tianguis pero con maíz")
print(nrow(Glenn1) - nrow(Bagatelle1))
print("Tianguis + maíz")
print(nrow(Bagatelle1))
print("Tianguis sin maíz y sin no maíz")
print(Suite4 <- nrow(Glenn) - (nrow(Bagatelle1) + nrow(Bagatelle3)) )
print("Sitios con tianguis sin maíz ")
print(nrow(Bagatelle3))
print("Sitios sin tianguis sin maíz")
print(nrow(Glenn2) - nrow(Bagatelle3))
}
Calcifer("Baja California")
Calcifer("Aguascalientes")
Calcifer("Baja California")
Calcifer("Baja California Sur")
Calcifer("Campeche")
Calcifer("Coahuila")
Calcifer("Colima")
Calcifer("Chiapas")
Calcifer("Chihuahua")
Calcifer("Distrito Federal")
Calcifer("Durango")
Calcifer("Guanajuato")
Calcifer("Guerrero")
Calcifer("Hidalgo")
Calcifer("Mexico")
Calcifer("Michoacan")
Calcifer("Morelos")
Calcifer("Nayarit")
Calcifer("Nuevo Leon")
Calcifer("Oaxaca")
Calcifer("Puebla")
Calcifer("Queretaro")
Calcifer("Quintana Roo")
Calcifer("San Luis Potosi")
Calcifer("Sinaloa")
Calcifer("Sonora")
Calcifer("Tabasco")
Calcifer("Tamaulipas")
Calcifer("Tamaulipas")
Calcifer("Tlaxcala")
Calcifer("Veracruz")
Calcifer("Yucatán")
Calcifer("Yucatan")
Calcifer("Zacatecas")
runApp('Dropbox/GitHub/VoronoiInegi')
shiny::runApp('Dropbox/GitHub/VoronoiInegi')
library(plyr)
library(dplyr)
citation("plyr")
citation("dplyr")
library(shiny)
library(leaflet)
citation("shiny")
citation("leaflet")
library(rgdal)
citation("rgdal")
library(latticeExtra)
citation("latticeExtra")
citation("tidyverse")
shiny::runApp('Dropbox/GitHub/Conabio-PGMaices')
shiny::runApp('Dropbox/GitHub/Conabio-PGMaices')
runApp('Dropbox/GitHub/Conabio-PGMaices')
runApp('Dropbox/GitHub/Conabio-PGMaices')
shiny::runApp('Dropbox/GitHub/Conabio-PGMaices')
runApp('Dropbox/GitHub/Conabio-PGMaices')
runApp('Dropbox/GitHub/Conabio-PGMaices')
runApp('Dropbox/GitHub/Conabio-PGMaices')
runApp('Dropbox/GitHub/Conabio-PGMaices')
runApp('Dropbox/GitHub/Conabio-PGMaices')
runApp('Dropbox/GitHub/Conabio-PGMaices')
runApp('Dropbox/GitHub/Conabio-PGMaices')
runApp('Dropbox/GitHub/Conabio-PGMaices')
runApp('Dropbox/GitHub/Conabio-PGMaices')
runApp('Dropbox/GitHub/Conabio-PGMaices')
runApp('Dropbox/GitHub/Conabio-PGMaices')
runApp('Dropbox/GitHub/Conabio-PGMaices')
shiny::runApp('Dropbox/GitHub/Conabio-PGMaices')
runApp('Dropbox/GitHub/Conabio-PGMaices')
runApp('Dropbox/GitHub/Conabio-PGMaices')
library(gdistance)
install.packages("gdistance")
library(gdistance)
search()
set.seed(123)
r <- rasteer(ncol = 3, nrow = 3)
r <- raster(ncol = 3, nrow = 3)
r
r[] <- 1:ncell(r)
r
plot(r, main ="r", xlab = "Longitude (degrees)", ylab = "Latitude (degrees)")
r <- raster(ncol = 3, nrow = 13)
r
r[] <- 1:ncell(r)
r
plot(r, main ="r", xlab = "Longitude (degrees)", ylab = "Latitude (degrees)")
r <- raster(ncol = 3, nrow = 3)
r
r[] <- 1:ncell(r)
r
plot(r, main ="r", xlab = "Longitude (degrees)", ylab = "Latitude (degrees)")
text(r)
r[] <- 1
r
tr1 <- transition(r, transitionFunction = mean, directions = 8)
tr1
plot(tr1, main ="r", xlab = "Longitude (degrees)", ylab = "Latitude (degrees)")
r[] <- runif(9)
r
runif(9)
ncf <- function(x) max(x) - x[1] - x[2]
tr2 <- transition(r, ncf, 4, symm = FALSE)
ncf <- function(x) max(x) - x[1] + x[2]
tr2 <- transition(r, ncf, 4, symm = FALSE)
tr2
tr3 <- tr1 * tr2
tr3
tr3 <- tr1 + tr2
tr3
tr3 <- tr1 *3
tr3
tr1
tr2
tr3 <- tr1 * tr2
tr3
tr3 <- tr1 + tr2
tr3
tr3 <- tr1 *3
tr3
tr3 <- sqrt(tr1)
tr3
tr3[cbind(1:9, 1:9)] <- tr2[cbind(1:9, 1:9)]
tr3
tr3[1:9, 1:9] <- tr2[1:9, 1:9]
tr3[1:5, 1:5]
tr3
image(transitionMatrix(tr1))
image(transitionMatrix(tr2))
image(transitionMatrix(tr3))
image(transitionMatrix(tr1))
plot(tr3, main ="r", xlab = "Longitude (degrees)", ylab = "Latitude (degrees)")
plot(raster(tr3), main ="raster(tr3)", xlab = "Longitude (degrees)", ylab = "Latitude (degrees)")
plot(r, main ="r", xlab = "Longitude (degrees)", ylab = "Latitude (degrees)")
plot(raster(tr3), main ="raster(tr3)", xlab = "Longitude (degrees)", ylab = "Latitude (degrees)")
plot(r, main ="r", xlab = "Longitude (degrees)", ylab = "Latitude (degrees)")
tr1C <- geoCorrection(tr1, type = "c")
tr2C <- geoCorrection(tr2, type = "c")
r3
r3 <- raster(ncol=18, nrow=9)
r3
plot(r3, main ="r", xlab = "Longitude (degrees)", ylab = "Latitude (degrees)")
r3 <- setValues(r3, runif(18*9)+5)
r3
tr3 <- transition(r3, mean, 4)
tr3
tr3C <- geoCorrection(tr3, type="c", multpl=FALSE, scl=TRUE)
tr3R <- geoCorrection(tr3, type="r", multpl=FALSE, scl=TRUE)
tr3C
tr3R
CorrMatrix <- geoCorrection(tr3, type = "r", multpl = T, scl = T)
CorrMatrix
tr3R <- tr3 * CorrMatrix
tr3R
plot(raster(tr3), main ="raster(tr3)", xlab = "Longitude (degrees)", ylab = "Latitude (degrees)")
tr3 <- tr1 * tr2
tr3
tr3 <- tr1 + tr2
tr3
tr3 <- tr1 *3
tr3
tr3 <- sqrt(tr1)
tr3
tr3[cbind(1:9, 1:9)] <- tr2[cbind(1:9, 1:9)]
tr3[1:9, 1:9] <- tr2[1:9, 1:9]
tr3[1:5, 1:5]
image(transitionMatrix(tr1))
image(transitionMatrix(tr2))
image(transitionMatrix(tr3))
plot(r, main ="r", xlab = "Longitude (degrees)", ylab = "Latitude (degrees)")
plot(raster(tr3), main ="raster(tr3)", xlab = "Longitude (degrees)", ylab = "Latitude (degrees)")
tr1C <- geoCorrection(tr1, type = "c")
tr2C <- geoCorrection(tr2, type = "c")
r3 <- raster(ncol=18, nrow=9)
r3
r3 <- setValues(r3, runif(18*9)+5)
r3
tr3 <- transition(r3, mean, 4)
tr3
tr3C <- geoCorrection(tr3, type="c", multpl=FALSE, scl=TRUE)
tr3R <- geoCorrection(tr3, type="r", multpl=FALSE, scl=TRUE)
plot(raster(tr3), main ="raster(tr3)", xlab = "Longitude (degrees)", ylab = "Latitude (degrees)")
CorrMatrix <- geoCorrection(tr3, type = "r", multpl = T, scl = T)
tr3R <- tr3 * CorrMatrix
plot(raster(tr3R), main ="raster(tr3)", xlab = "Longitude (degrees)", ylab = "Latitude (degrees)")
plot(raster(tr3R), main ="raster(tr3)", xlab = "Longitude (degrees)", ylab = "Latitude (degrees)")
plot(raster(tr3C), main ="raster(tr3)", xlab = "Longitude (degrees)", ylab = "Latitude (degrees)")
sP <- cbind(c(-100, -100, 100), c(50, -50, 50))
sP
dist(sP)
costDistance(tr3C, sP)
costDistance(tr3R, sP)
rSPDistance(tr3R, sP, sP, theta=1e-12, totalNet = "total")
origin <- SpatialPoints(cbind(0,0))
origin
sP
rSPraster <- passage(tr3c, origin, sP[1,], theta = 3)
rSPraster <- passage(tr3C, origin, sP[1,], theta = 3)
plot(rSPraster)
plot(rSPraster, main ="rSPraster", xlab = "Longitude (degrees)", ylab = "Latitude (degrees)")
text(rSPraster)
plot(rSPraster, main ="rSPraster", xlab = "Longitude (degrees)", ylab = "Latitude (degrees)")
text(tr3C)
r1 <- passage(tr3C, origin, sp[1,], theta = 1)
r1 <- passage(tr3C, origin, sP[1,], theta = 1)
r2 <- passage(tr3C, origin, sP[2,], theta = 1)
plot(r1, main ="rSPraster", xlab = "Longitude (degrees)", ylab = "Latitude (degrees)")
plot(r2, main ="rSPraster", xlab = "Longitude (degrees)", ylab = "Latitude (degrees)")
rJoint <- min(r1, r2)
rJoint
plot(rJoint, main ="rSPraster", xlab = "Longitude (degrees)", ylab = "Latitude (degrees)")
rDiv <- max(max(r1,r2) * (1- min(r1,r2)) - min(r1,r2), 0)
rDiv
plot(rDiv, main ="rSPraster", xlab = "Longitude (degrees)", ylab = "Latitude (degrees)")
pathInc(tr3C, origin, sP)
6exp(-3.5)
6*exp(-3.5)
6*exp(-3.5 *abs(0.05))
6*exp(-3.5 *abs(0))
abs(0)
r <- raster(system.file("external/maungawhau.grd", package="gdistance"))
r
plot(r, main ="rSPraster", xlab = "Longitude (degrees)", ylab = "Latitude (degrees)")
image(transitionMatrix(tr1))
ncf <- function(x) max(x) - x[1] + x[2]
tr2 <- transition(r, ncf, 4, symm = FALSE)
tr2
plot(tr2)
altDiff <- function(x){x[2] - x[1]}
altDiff
hd <- transition(r, altDiff, 8, symm=FALSE)
slope <- geoCorrection(hd)
plot(slope)
slope
adj <- adjacent(r, cells=1:ncell(r), pairs=TRUE, directions=8)
adj
1:ncell(r)
adj
speed <- slope
speed[adj] <- 6 * exp(-3.5 * abs(slope[adj] + 0.05)) #Tobler's Hiking Function
speed
Conductance <- geoCorrection(speed)
Conductance
A <- c(2667670, 6479000)
B <- c(2667800, 6479400)
AtoB <- shortestPath(Conductance, A, B, output="SpatialLines")
BtoA <- shortestPath(Conductance, B, A, output="SpatialLines")
plot(r, xlab="x coordinate (m)", ylab="y coordinate (m)",
legend.lab="Altitude (masl)")
lines(AtoB, col="red", lwd=2)
lines(BtoA, col="blue")
text(A[1] - 10, A[2] - 10, "A")
text(B[1] + 10, B[2] + 10, "B")
AtoB
15*20
shiny::runApp('Dropbox/GitHub/ShinyMBellon')
Anexo6 <- read.csv("Anexo6_InfoMaices.csv", head = T, sep = ",")
setwd("~/Dropbox/GitHub/Conabio-PGMaices")
Anexo6 <- read.csv("Anexo6_InfoMaices.csv", head = T, sep = ",")
head(Anexo6)
dim(Anexo6)
names(Anexo6)
View(Anexo6)
shiny::runApp()
View(Anexo6)
Anexo6[1,1]
Anexo6[1,3]
runApp()
Anexo6$Raza_Primaria
Anexo6$Raza_Primaria[Anexo6$Raza_Primaria == "Mixteco",]
Anexo6$Raza_Primaria[Anexo6$Raza_Primaria == "Mixteco"]
Anexo6$Raza_Primaria[Anexo6$Raza_Primaria == "Mixteco",3]
Anexo6[Anexo6$Raza_Primaria == "Mixteco"]
Anexo6[Anexo6$Raza_Primaria == "Mixteco",]
Anexo6$Raza_Primaria
str(Anexo6)
Anexo6$Raza_Primaria <- as.character(Anexo6$Raza_Primaria)
head(Anexo6)
head(Anexo6)
dim(Anexo6)
names(Anexo6)
Anexo6[Anexo6$Raza_Primaria == "Mixteco",]
Anexo6$Raza_Primaria
Anexo6[Anexo6$Raza_Primaria == "Mixteco ",]
Anexo6[Anexo6$Raza_Primaria == "Mixteco "]
Anexo6$Raza_Primaria == "Mixteco "
Anexo6$Raza_Primaria == "Mixteco"
Anexo6$Raza_Primaria == Mixteco
Anexo6$Raza_Primaria
Anexo6$Raza_Primaria == "Mixteco "
Anexo6 <- read.csv("Anexo6_InfoMaices.csv", head = T, sep = ",")
Anexo6[Anexo6$Raza_Primaria == "Mixteco "]
Anexo6
head(Anexo6)
Anexo6[45,3]
class(Anexo6)
View(Anexo6)
Anexo6$Raza_Primaria
Anexo7 <- Anexo6 %>%
dplyr::filter(Raza_Primaria == "Mixteco")
print(Anexo7)
View(Anexo7)
Anexo7 <- Anexo6 %>%
dplyr::filter(Raza_Primaria == "Cónico")
View(Anexo7)
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
